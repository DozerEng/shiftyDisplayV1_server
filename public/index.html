<!DOCTYPE html>
<html lang="en">
  <head>
            <!--
/*************************************************************************
# Project Name: shiftyDisplayV1_server
# Author: Michael Pillon
# Description:  
#			    
#
#
#
#
#			    
# 
//*************************************************************************/
        -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shifty Display V1</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.js"></script>
    <script src = "/socket.io/socket.io.js" ></script>

    <script> 
      let socket = io.connect();


      // socket.on("updatedFrame", handlePinUpdate);

      function handleUpdatedDisplayFrame(message) {
          console.log(message);
      }
      function sendNewDisplayFrame (frame) {
        socket.emit('newDisplayFrame', frame);
      }
      function requestDisplayFrame () {
        socket.emit('requestDisplayFrame', {});
      }

    </script>

    <link rel="stylesheet" type="text/css" href="style.css">

  </head>
  <body>
    <main>
    </main>
    <div class="logo center">                
      <img 
      id="shiftyDisplayV1Logo"
      src='/images/shiftyDisplayV1_Logo_blackWhiteRedGlowing.png'
      alt='Shifty Display V1'>
  </div>


    <hr>
    <p>
      Set display mode, update the display in real time, or experiment with different displays or character sets.
    </p>
    <hr>

    <h1>Live Display</h1>
    <p>Control the display in real time!
    <br>Left click to turn an LED on and right click to turn an LED off.</p>
    <script src="sketch_liveDisplay.js"></script>
    <div class="center">
    <div id="liveDisplay"></div>
    </div>

    <h2>C-Array Initializer</h2>

    <p>
      Below is a readout of the C array that can be used by the STM32 microcontroller to update the actually display in real time. <br>
      Click the button below to copy the c-array initialization statement to your clipboard or reset the display.
    </p>

    <div class="button_container">
      <button onclick="copyToClipboard()"><b>Copy array to clipboard</b></button>
      <button onclick="liveDisplayReset()"><b>Reset</b></button>
    </div>

    <p id="c_array"> <!-- Will be filled dynamically --> 
       <!-- Ensure C-array is shown on initial page load -->
      <script>updateCArray();</script>
    </p>
    
      
    <br><br>
    <hr>
    <h2>This is the footer. It should have content, it currently does not.</h2>
    <br><br>

  </body>
</html>

